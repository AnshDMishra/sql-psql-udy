# LIMIT clause

In this lesson, you will learn how to use the PostgreSQL LIMIT clause to get a subset of rows generated by a query.

## Scenarios

The aim of many of your queries will simply be to see what a particular table looks like.

You want to **scan the first rows of data** to get an **idea of which fields you care about and how you want to manipulate them**, or maybe you want to get the first three rows because the result of your table query is in a specific order (such as descending or ascending prices). **Typically, you often use the LIMIT clause to select rows with the highest or lowest values from a table**.

For example, if you want to take a look at traffic departure in Posey's website, the first thing you want to do is get a sense of what data is stored in the web traffic table.

In order to do this, you really only need to see a few lines of data. Many analysts use the **LIMIT** clause as a **simple way to keep their queries from taking too long to return**.

If you query a table with hundreds of millions of rows and don't use a **LIMIT**, you could end up waiting a long time for all of your results to be displayed. This doesn't make sense if you only care about the first few lines.

## LIMIT to constraint the number of returned rows example

Let's use the **LIMIT** to **look at just the first 10 rows** of `web_traffic`.

```console
SELECT *
  FROM web_events
  LIMIT 10;
```

**LIMIT** gets written in at **the end of the query with the number**. this will limit the number of rows returned. For example, `LIMIT 10` will return the first 10 rows of results and omit the rest. `LIMIT 100000` will return the first 100000 rows. Since there aren't that many, it simply returns all the rows in the table.

Let's execute this query from the `psql` prompt. See the previous lessons to connect to the database.

```console
parch_posey=# SELECT *
parch_posey-#   FROM web_events
parch_posey-#   LIMIT 10;
 id | account_id |     occurred_at     | channel
----+------------+---------------------+---------
  1 |       1001 | 2015-10-06 17:13:58 | direct
  2 |       1001 | 2015-11-05 03:08:26 | direct
  3 |       1001 | 2015-12-04 03:57:24 | direct
  4 |       1001 | 2016-01-02 00:55:03 | direct
  5 |       1001 | 2016-02-01 19:02:33 | direct
  6 |       1001 | 2016-03-02 15:15:22 | direct
  7 |       1001 | 2016-04-01 10:58:55 | direct
  8 |       1001 | 2016-05-01 15:26:44 | direct
  9 |       1001 | 2016-05-31 20:53:47 | direct
 10 |       1001 | 2016-06-30 12:09:45 | direct
(10 rows)
```

## LIMIT with OFFSET example

To retrieve 4 records starting from the fourth one.

```console
parch_posey=# SELECT *
parch_posey-#   FROM web_events
parch_posey-#  LIMIT 4 OFFSET 3;
 id | account_id |     occurred_at     | channel
----+------------+---------------------+---------
  4 |       1001 | 2016-01-02 00:55:03 | direct
  5 |       1001 | 2016-02-01 19:02:33 | direct
  6 |       1001 | 2016-03-02 15:15:22 | direct
  7 |       1001 | 2016-04-01 10:58:55 | direct
(4 rows)
```

### Summary

We have already seen the `SELECT` (**to choose columns**) and `FROM` (**to choose tables**) statements. The `LIMIT` statement is useful when you want to see just the first few rows of a table. This can be much faster for loading than if we load the entire dataset.

The LIMIT command is always the very last part of a query. An example of showing just the first 10 rows of the orders table with all of the columns might look like the following:

```console
SELECT *
  FROM orders
  LIMIT 10;
```

We could also change the number of rows by changing the 10 to any other number of rows.

### Additional resources

- [LIMIT](https://www.postgresqltutorial.com/postgresql-tutorial/postgresql-limit/)
